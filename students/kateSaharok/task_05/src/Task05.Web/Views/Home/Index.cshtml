@{
    ViewData["Title"] = "–ì–ª–∞–≤–Ω–∞—è";
}

<!DOCTYPE html>
<html>
<head>
    <title>@ViewData["Title"]</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 05</h1>

        <h2>ASPNET Core Identity + –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>

        <h3>–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–∏ (DI)</h3>
        <p>–õ–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è: @ViewData["LocalTime"]</p>
        <p>UTC –≤—Ä–µ–º—è: @ViewData["UtcTime"]</p>

        <h3>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h3>
        
        @if (User.Identity?.IsAuthenticated == true)
        {
            <div class="alert alert-success">
                <p>–í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫: <strong>@User.Identity.Name</strong></p>
                
                @if (User.IsInRole("Admin"))
                {
                    <p><strong>üéØ –í–∞—à–∞ —Ä–æ–ª—å: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</strong></p>
                    <div class="mt-2">
                        <a href="/Files/Index" class="btn btn-success">üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</a>
                        <a href="/Health/Check" class="btn btn-info">ü©∫ Health Check</a>
                    </div>
                }
            </div>
            
            <form action="/Account/Logout" method="post">
                <button type="submit" class="btn btn-outline-danger">–í—ã–π—Ç–∏</button>
            </form>
        }
        else
        {
            <div class="alert alert-warning">
                <p>–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã</p>
                <div class="mt-2">
                    <a href="/Account/Login" class="btn btn-primary">–í–æ–π—Ç–∏</a>
                    <a href="/Account/Register" class="btn btn-secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                </div>
                <p class="mt-2 small">–¢–µ—Å—Ç–æ–≤—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin@test.com / Admin123!</p>
            </div>
        }

        <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
        <ul>
            <li><a href="/">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a></li>
            @if (User.IsInRole("Admin"))
            {
                <li><a href="/Files/Index">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</a></li>
                <li><a href="/Health/Check">Health Check</a></li>
            }
            else
            {
                <li><em>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–¢–æ–ª—å–∫–æ –¥–ª—è Admin)</em></li>
                <li><em>Health Check (–¢–æ–ª—å–∫–æ –¥–ª—è Admin)</em></li>
            }
        </ul>
    </div>
</body>
</html>