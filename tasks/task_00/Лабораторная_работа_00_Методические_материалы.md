# Лабораторная работа 00 — Методические материалы

Цель: подготовить окружение и рабочую структуру репозитория, чтобы вы могли выполнять все следующие лабораторные без технических блокеров.

Что вы получите в конце:
- Установленные и проверенные инструменты: Git, .NET SDK 8, Node.js LTS, VS Code, SQL Server (или SQLite).
- Аккаунт GitHub, оформленный профиль и доступ к GitHub Student Developer Pack.
- Локальный клон своего форка репозитория, настроенные remotes origin/upstream.
- Базовая структура каталогов для сдачи работ: `students/<ваш_идентификатор>/task_00/{doc,src}`.
- Отчёт `doc/readme.md` с версиями и скриншотами.

Поддерживаемая ОС: Windows. Команды приведены для PowerShell.

---

## 1. GitHub: аккаунт и профиль

1) Зарегистрируйтесь на github.com (если ещё нет аккаунта).
2) Откройте Settings → Profile и укажите ФИО на русском (требование курса).
3) Подайте заявку на GitHub Student Developer Pack: https://education.github.com/pack
   - Используйте студенческую почту (если есть) или приложите подтверждение статуса студента.
4) Настройте SSH-ключ (рекомендуется) или используйте HTTPS.
   - Сгенерировать SSH-ключ в PowerShell:
     - `ssh-keygen -t ed25519 -C "ваш_email@пример.com"`
     - Согласитесь со стандартным путём, задайте пароль по желанию.
     - Скопируйте открытый ключ: `Get-Content $env:USERPROFILE\.ssh\id_ed25519.pub`
     - Добавьте ключ на GitHub: Settings → SSH and GPG keys → New SSH key.

Проверка:
- `ssh -T git@github.com` — при первом подключении подтвердите fingerprint; должно появиться приветствие.


## 2. Установка необходимого ПО (Windows + PowerShell)

Устанавливайте по порядку. После каждого шага выполняйте проверку версий в PowerShell. Если команда не находится, перезапустите VS Code/PowerShell или перелогиньтесь, чтобы обновился PATH.

### 2.1 Git for Windows
- Скачать: https://git-scm.com/download/win
- Установка (рекомендуемые опции):
   - Editor: можно выбрать VS Code.
   - Adjusting your PATH: «Git from the command line and also from 3rd-party software».
   - Line endings: «Checkout Windows-style, commit Unix-style (recommended)».
   - Enable symbolic links: включить (по возможности, требует права администратора).
   - Git Credential Manager: оставить включённым.
- Проверка:
   - `git --version`
- Базовая конфигурация:
   - `git config --global user.name "Фамилия Имя"`
   - `git config --global user.email "ваш_email@пример.com"`
   - (Windows) `git config --global core.autocrlf true`
   - (Опционально) длинные пути: `git config --global core.longpaths true`
- SSH-агент (если используете SSH-ключи):
   - `Start-Service ssh-agent; ssh-add $env:USERPROFILE\.ssh\id_ed25519`

### 2.2 .NET SDK 8
- Загрузка: https://dotnet.microsoft.com/en-us/download/dotnet/8.0 (именно SDK x64, не Runtime)
- Установите с правами администратора.
- Проверка:
   - `dotnet --version` (ожидается 8.x.x)
   - `dotnet --info`
- Быстрый тест:
   - `dotnet new console -n temp-dotnet-hello -o $env:TEMP\temp-dotnet-hello`
   - `dotnet run --project $env:TEMP\temp-dotnet-hello`

### 2.3 Node.js LTS + npm
- Скачать LTS MSI: https://nodejs.org/en
- Установить по умолчанию.
- Проверка:
   - `node --version`
   - `npm --version`
- Глобальные пакеты без прав администратора (рекомендация):
   - `npm config set prefix "$env:USERPROFILE\AppData\Roaming\npm"`
   - Убедитесь, что `%USERPROFILE%\AppData\Roaming\npm` присутствует в PATH (см. раздел 2.6).
- (Опционально) Управление версиями Node: nvm-windows — https://github.com/coreybutler/nvm-windows

### 2.4 Visual Studio Code
- Загрузка: https://code.visualstudio.com/
- Установите (желательно «для всех пользователей»), включите «Добавить VS Code в PATH».
- Запустите VS Code → Terminal → New Terminal (PowerShell).
- Установите расширения:
   - C# — ms-dotnettools.csharp
   - ESLint — dbaeumer.vscode-eslint
   - REST Client — humao.rest-client
- Полезные настройки (опционально): Format on Save, CodeLens, IntelliSense.

### 2.5 SQL Server или SQLite (выберите один)

Вариант A: SQL Server (Developer/Express)
- Скачайте: https://www.microsoft.com/ru-ru/sql-server/sql-server-downloads
- Установите выпуск Developer или Express. Достаточно Database Engine Services.
- (Опционально) SSMS: https://aka.ms/ssmsfullsetup
- Подключение:
   - LocalDB: `(localdb)\MSSQLLocalDB`
   - Либо `localhost` / `.\SQLEXPRESS` — в зависимости от выбранной конфигурации.
- Проверка (LocalDB):
   - `sqllocaldb info`
   - `sqllocaldb start MSSQLLocalDB`

Вариант B: SQLite (проще всего)
- Скачайте «sqlite-tools-win-x64-*.zip» и «sqlite-dll-win-x64-*.zip» с https://www.sqlite.org/download.html
- Распакуйте `sqlite3.exe` (и DLL) в папку, которая есть в PATH, либо добавьте новую папку (см. 2.6).
- Проверка: `sqlite3 --version`
- (Опционально) GUI: DB Browser for SQLite — https://sqlitebrowser.org/dl/

### 2.6 PATH и перезапуск сеанса
- Если после установки команда не распознаётся ("not recognized"):
   - Закройте/откройте заново VS Code/PowerShell.
   - Проверьте PATH: Пуск → «Переменные среды» → «Переменные среды…» → Path.
   - Убедитесь, что пути Git/.NET/Node/npm добавлены. При необходимости добавьте вручную.
   - Иногда требуется выход из системы/перезагрузка.

### 2.7 Прокси/фаервол (при необходимости)
- Git:
   - `git config --global http.proxy http://user:pass@host:port`
   - `git config --global https.proxy http://user:pass@host:port`
- npm:
   - `npm config set proxy http://user:pass@host:port`
   - `npm config set https-proxy http://user:pass@host:port`

### 2.8 Мини‑проверка среды
- Git: `git --version`
- .NET: `dotnet --version`
- Node/npm: `node --version`; `npm --version`
- VS Code: Help → About (скриншот в отчёт)
- SQL Server LocalDB: `sqllocaldb info` (если установлен)
- SQLite: `sqlite3 --version` (если выбран этот вариант)


## 3. Форк и клон репозитория курса

1) Откройте страницу исходного репозитория курса и нажмите Fork — создайте копию в своём аккаунте.
2) Склонируйте свой форк (SSH или HTTPS). Примеры команд (PowerShell):
   - SSH: `git clone git@github.com:<ваш_логин>/<ваш_форк>.git`
   - HTTPS: `git clone https://github.com/<ваш_логин>/<ваш_форк>.git`
3) Перейдите в папку проекта: `cd <ваш_форк>`
4) Добавьте upstream (ссылка на основной репозиторий курса), чтобы синхронизировать обновления:
   - `git remote add upstream https://github.com/brstu/IPK-WT-P30.git` (проверьте точную ссылку исходника)
   - Проверка: `git remote -v` (должны быть origin — ваш форк, upstream — курс)

Синхронизация с курсом в будущем:
- `git fetch upstream`
- `git checkout main`
- `git merge upstream/main` (или `git rebase upstream/main` — по договорённости команды)
- `git push origin main`


## 4. Рабочая структура студентов

В этом курсе сдача выполняется в директории:

- `students/<ваш_идентификатор>/task_xx/{doc,src}`

Где `<ваш_идентификатор>` — короткий уникальный идентификатор, согласованный с преподавателем (например, `P30-15_Иванов` или `p30_ivanov` — единый стиль на все ЛР).

Для ЛР00 создайте каталоги:
- `students/<id>/task_00/doc`
- `students/<id>/task_00/src` (опционально для этой ЛР)

Проверка (PowerShell):
- `New-Item -ItemType Directory -Force students/<id>/task_00/doc | Out-Null`
- `New-Item -ItemType Directory -Force students/<id>/task_00/src | Out-Null`
- `Get-ChildItem students/<id>/task_00`


## 5. Отчёт: что положить в doc/readme.md

Создайте файл `students/<id>/task_00/doc/readme.md` со следующими разделами:

- ФИО и идентификатор.
- Версии установленных инструментов с выводами команд:
  - Git: `git --version`
  - .NET SDK: `dotnet --version` и/или `dotnet --info`
  - Node.js и npm: `node --version`, `npm --version`
  - VS Code: версия из "Help → About" (скриншот)
  - SQL Server или SQLite: версия (по возможности команда/скриншот клиента)
- Скриншоты подтверждений (терминал с выводом, окна установщиков, About VS Code). Добавьте их рядом, напр.: `students/<id>/task_00/doc/img/...` и вставьте в readme.md.
- Краткое описание, что именно установлено и где (если меняли путь/папку).

Шаблон мини-отчёта:

- Раздел "Установлено": список с версиями.
- Раздел "Скриншоты": 3–5 изображений с подписями.
- Раздел "Проблемы и решения": если были ошибки, как исправили.


## 6. Настройка Git локально (минимум)

Рекомендуется выполнить:
- `git config --global user.name "Фамилия Имя"`
- `git config --global user.email "ваш_email@пример.com"`
- (Опционально) `git config --global core.autocrlf true` для Windows
- (Опционально) `git config --global pull.rebase false` (или true — по вашему стилю)

Проверка: `git config --list --show-origin`

Коммит/пуш отчёта:
- `git add students/<id>/task_00`
- `git commit -m "ЛР00: отчёт об установке окружения"`
- `git push origin main`

Создание Pull Request:
- Перейдите в ваш форк на GitHub → Compare & pull request → заполните заголовок и описание.
- Минимум 2 review другим студентам — требование курса.


## 7. Частые ошибки и их решения

- Команда не найдена (not recognized):
  - Закройте/откройте заново PowerShell или VS Code.
  - Проверьте PATH в Переменных среды. Иногда помогает перезагрузка.
- Несоответствие версий .NET SDK/Node.js: скачайте LTS/требуемую версию по ссылкам из этого файла.
- Git требует аутентификацию при push:
  - Для HTTPS настройте Git Credential Manager (ставится вместе с Git for Windows) — выполните push и пройдите вход.
  - Для SSH — проверьте, что добавили публичный ключ в GitHub, агента SSH запущен: `Start-Service ssh-agent; ssh-add $env:USERPROFILE\.ssh\id_ed25519`.
- Ошибки прав при установке:
  - Запустите инсталляторы от имени администратора.
- Проблемы с npm (прокси/фаервол):
  - Проверьте `npm config get proxy` / `npm config get https-proxy`. По необходимости настройте.


## 8. Критерии готовности ЛР00

- Есть форк репозитория и локальный клон, настроен upstream.
- Создана структура `students/<id>/task_00/{doc,src}`.
- В `doc/readme.md` перечислены версии и приложены скриншоты.
- Выполнен push в свой форк, открыт Pull Request в основной репозиторий курса.


## 9. Полезные ссылки

- README курса: `../../README.md`
- Задание ЛР00: `./readme.md`
- Visual Studio Code docs: https://code.visualstudio.com/docs
- .NET docs: https://learn.microsoft.com/dotnet/
- Node.js docs: https://nodejs.org/en/learn
- Git docs: https://git-scm.com/doc

## 10. Работа с Git: подробное руководство с примерами на основе этой лабораторной работы

Git — это система контроля версий, которая позволяет отслеживать изменения в коде, сотрудничать с другими разработчиками и управлять проектами. В этой лабораторной работе вы будете использовать Git для клонирования репозитория, создания отчётов и отправки изменений в свой форк.

### 10.1 Основные понятия Git

- **Репозиторий (repo)**: папка с проектом и историей изменений.
- **Коммит (commit)**: снимок состояния файлов в определённый момент.
- **Ветка (branch)**: параллельная линия разработки (основная — `main` или `master`).
- **Remote**: ссылка на удалённый репозиторий (например, `origin` — ваш форк, `upstream` — оригинальный).
- **Pull Request (PR)**: предложение изменений в чужой репозиторий.

### 10.2 Инициализация и клонирование репозитория

В ЛР00 вы уже клонировали свой форк. Пример команд:

```powershell
# Клонирование вашего форка (SSH)
git clone git@github.com:<ваш_логин>/IPK-WT-P30.git

# Переход в папку репозитория
cd IPK-WT-P30

# Добавление upstream (оригинального репозитория)
git remote add upstream https://github.com/brstu/IPK-WT-P30.git

# Проверка remotes
git remote -v
```

Вывод `git remote -v` должен показать:

```text
origin    git@github.com:<ваш_логин>/IPK-WT-P30.git (fetch)
origin    git@github.com:<ваш_логин>/IPK-WT-P30.git (push)
upstream  https://github.com/brstu/IPK-WT-P30.git (fetch)
upstream  https://github.com/brstu/IPK-WT-P30.git (push)
```

### 10.3 Работа с файлами: добавление, коммит, пуш

После создания структуры каталогов и отчёта в `students/<id>/task_00/doc/readme.md`, выполните:

```powershell
# Проверка статуса репозитория
git status

# Добавление всех изменений в staging area
git add .

# Или только конкретных файлов
git add students/<id>/task_00/doc/readme.md

# Создание коммита с сообщением
git commit -m "ЛР00: добавлен отчёт об установке окружения"

# Отправка изменений в ваш форк на GitHub
git push origin main
```

Пример вывода `git status` до добавления:

```text
On branch main
Your branch is up to date with 'origin/main'.

Untracked files:
  (use "git add <file>..." to include in what will be committed)
        students/<id>/task_00/doc/readme.md

nothing added to commit but untracked files present (use "git add" to track)
```

После `git add .` и `git commit`:

```text
[main abc1234] ЛР00: добавлен отчёт об установке окружения
 1 file changed, 50 insertions(+)
 create mode 100644 students/<id>/task_00/doc/readme.md
```

### 10.4 Синхронизация с upstream (оригинальным репозиторием)

Чтобы получить обновления от преподавателей:

```powershell
# Получение изменений из upstream
git fetch upstream

# Переключение на основную ветку
git checkout main

# Слияние изменений (merge) или перебазирование (rebase)
git merge upstream/main

# Или для чистой истории: git rebase upstream/main

# Отправка обновлений в ваш форк
git push origin main
```

Если есть конфликты при merge, Git покажет файлы с конфликтами. Откройте их в VS Code, разрешите конфликты (удалите маркеры `<<<<<<<`, `=======`, `>>>>>>>`) и закоммитьте.

### 10.5 Работа с ветками

Для экспериментов или отдельных задач создавайте ветки:

```powershell
# Создание новой ветки
git checkout -b feature/new-task

# Работа в ветке: добавление файлов, коммиты
git add .
git commit -m "Добавлена новая функция"

# Переключение обратно на main
git checkout main

# Слияние ветки в main
git merge feature/new-task

# Удаление ветки после слияния
git branch -d feature/new-task

# Отправка ветки на GitHub (если нужно)
git push origin feature/new-task
```

### 10.6 Просмотр истории и откат изменений

```powershell
# Просмотр истории коммитов
git log --oneline

# Просмотр изменений в последнем коммите
git show

# Откат последнего коммита (сохраняя изменения в рабочей директории)
git reset --soft HEAD~1

# Откат с удалением изменений
git reset --hard HEAD~1

# Откат к конкретному коммиту
git reset --hard <commit-hash>
```

Пример `git log --oneline`:

```text
abc1234 ЛР00: добавлен отчёт об установке окружения
def5678 Initial commit
```

### 10.7 Игнорирование файлов (.gitignore)

Создайте файл `.gitignore` в корне репозитория, чтобы Git игнорировал временные файлы:

```gitignore
# Временные файлы
*.tmp
*.log

# Скриншоты (если не хотите коммитить большие файлы)
students/*/task_*/doc/img/*.png

# Папки сборки
bin/
obj/
node_modules/
```

Затем: `git add .gitignore; git commit -m "Добавлен .gitignore"`

### 10.8 Разрешение конфликтов

Если при `git merge` или `git pull` возникают конфликты:

1. Откройте конфликтующий файл в VS Code.
2. Найдите маркеры конфликта: `<<<<<<< HEAD`, `=======`, `>>>>>>> branch-name`.
3. Выберите нужную версию или объедините вручную.
4. Сохраните файл.
5. `git add <file>`; `git commit` (без `-m`, откроется редактор для сообщения).

### 10.9 Полезные команды для повседневной работы

- `git diff`: показать изменения.
- `git diff --staged`: изменения в staging.
- `git stash`: временно сохранить изменения.
- `git stash pop`: восстановить.
- `git blame <file>`: кто и когда менял строки.
- `git reflog`: история всех действий.

В контексте ЛР00: после создания отчёта используйте `git add`, `commit`, `push` для сдачи работы.

## 11. Инструкция по созданию Fork и Pull Request через GitHub UI

GitHub предоставляет веб-интерфейс для управления репозиториями. Вот подробная инструкция по созданию форка и Pull Request в оригинальный репозиторий курса.

### 11.1 Создание Fork (форка) репозитория

1. Откройте браузер и перейдите на страницу оригинального репозитория: <https://github.com/brstu/IPK-WT-P30>
2. В правом верхнем углу нажмите кнопку **Fork**.
3. Выберите свой аккаунт GitHub (если у вас несколько).
4. Дождитесь завершения форка. Теперь у вас есть копия репозитория в вашем аккаунте: <https://github.com/<ваш_логин>/IPK-WT-P30>

Примечание: Fork создаёт полную копию репозитория в вашем аккаунте, включая все ветки и историю.

### 11.2 Клонирование форка локально (если ещё не сделали)

После форка клонируйте репозиторий на свой компьютер (см. раздел 10.2 или 3 в этом файле).

### 11.3 Создание Pull Request (PR)

После того как вы внесли изменения (например, добавили отчёт для ЛР00) и отправили их в свой форк (`git push origin main`), создайте PR:

1. Перейдите в ваш форк на GitHub: <https://github.com/<ваш_логин>/IPK-WT-P30>
2. Вы увидите баннер "Compare & pull request" (если есть новые коммиты). Нажмите на него.
   - Если баннера нет, нажмите вкладку **Pull requests** → **New pull request**.
3. Убедитесь, что:
   - **Base repository**: brstu/IPK-WT-P30 (оригинальный)
   - **Base branch**: main
   - **Head repository**: <ваш_логин>/IPK-WT-P30 (ваш форк)
   - **Compare branch**: main (или ваша ветка, если работали в ветке)
4. GitHub покажет сравнение изменений. Проверьте, что отображаются ваши файлы (например, `students/<id>/task_00/doc/readme.md`).
5. Заполните форму PR:
   - **Title**: Краткое описание, например "ЛР00: отчёт об установке окружения от <ФИО>"
   - **Description**: Подробное описание изменений. Укажите, что сделано, версии инструментов, приложите ссылки на скриншоты в репозитории.
   - Добавьте лейблы, если нужно (например, "student-submission").
6. Нажмите **Create pull request**.
7. После создания PR:
   - Преподаватели смогут просмотреть изменения.
   - Вы можете добавить комментарии или внести дополнительные коммиты (они автоматически добавятся в PR).
   - Для ЛР00 требуется минимум 2 ревью от других студентов — попросите одногруппников.

### 11.4 Работа с PR после создания

- **Внесение изменений**: Если нужно доработать, сделайте коммиты в локальном репозитории и `git push origin main` — изменения появятся в PR.
- **Ревью**: Нажмите **Files changed** для просмотра diff. Добавьте комментарии к строкам.
- **Слияние**: Преподаватель сольёт PR, если всё корректно. После слияния синхронизируйте свой форк с upstream (см. раздел 10.4).
- **Закрытие PR**: Если PR не нужен, нажмите **Close pull request**.

### 11.5 Советы по PR

- Делайте PR только после тщательного тестирования изменений.
- Используйте понятные заголовки и описания.
- Прикладывайте скриншоты в репозиторий и ссылайтесь на них в описании PR.
- Если PR большой, разбейте на несколько (например, по задачам).

Эта инструкция поможет вам эффективно работать с Git и GitHub в курсе. Удачи!
